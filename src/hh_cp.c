/**********************************************************/
/*                                                        */
/* konverzni tabulka - kam                                */
/*                                                        */
/*                                                        */
/*                                                        */
/* (C) Jan Hajic 1995                                     */
/* (C) Jan Hajic 1991                                     */
/*     Modul hh_cp895.c O.C. 24.7.1997                    */
/*                                                        */
/**********************************************************/
#include <string.h>
#include <stdio.h>
#include "hb_proto.h"
#include "hh_cp.h"

unsigned char *hh_tab = NULL;

unsigned char hh_tab_cp895[256] = {
        00,01,02,03,04,05,06,07, 8, 9,10,11,12,13,14,15,
        16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,
        32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,
        48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,
        250, 66, 74, 92,110,118,126,134, 172,180,188,226,244,252,254,248,
        240,222,184,176,138,130,122,114,  96, 78, 70,231,233,235,237,239,
        100, 67, 75, 93,111,119,127,135, 173,181,189,227,245,253,255,249,
        241,223,185,177,139,131,123,115,  97, 79, 71,247,251,141,143,145,

         68,171,121, 73,113, 72, 76, 69,  91, 90, 94, 98,179, 95,112,116,
        120,125,124,229,137,128,225,132, 183,136,170,174,178,182,186, 77,
        117, 99,129,133,221,220,224,228, 175,187,243,242,160,246,161,162,
        64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,
        64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,
        64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,
        64,65,64,64,64,64,64,64,64,64,64,64,64,64,64,64,
        64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64
};

unsigned char hh_tab_iso_8859_2[256] = {
        00,01,02,03,04,05,06,07, 8, 9,10,11,12,13,14,15,
        16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,
        32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,
        48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,
        250, 66, 74, 92,110,118,126,134, 172,180,188,226,244,252,254,248,
        240,222,184,176,138,130,122,114,  96, 78, 70,231,233,235,237,239,
        100, 67, 75, 93,111,119,127,135, 173,181,189,227,245,253,255,249,
        241,223,185,177,139,131,123,115,  97, 79, 71,247,251,141,143,145,

/*80 */  64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64,
/*90 */  64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64,
/*a0 */  64, 80, 64, 82, 64,178, 84,246, 64,174, 86, 76, 88, 64,124,102,
/*b0 */  64, 81, 64, 83, 64,179, 85, 64, 64,175, 87, 77, 89, 64,125,103,
/*c0 */ 242,116,104,106,112, 94,108, 64, 68,120,164,166, 90, 98,168, 72,
/*d0 */ 190,192,220,128,228,194,136, 64,186,224,132,196,170,182,198, 65,
/*e0 */ 243,117,105,107,113, 95,109, 64, 69,121,165,167, 91, 99,169, 73,
/*f0 */ 191,193,221,129,229,195,137, 64,187,225,133,197,171,183,199, 64
};

/* added to il2: 990615: 
       80/81 (a,)
       82/83 (l/)
       84/85 (s')
       86/87 (s,)
       88/89 (z')
     102/103 (z.)
     104/105 (a^)
     106/107 (au)
     108/109 (c')
     104/105 (c,)
     164/165 (e,)
     166/167 (e:)
     168/169 (i^)
     190/191 (d/)
     192/193 (n')
     194/195 (o")
     196/197 (u")
     198/199 (t,)
     NB: windows-1250 remains to be updated for the above letters!! */

unsigned char hh_tab_windows_1250[256] = {
        00,01,02,03,04,05,06,07, 8, 9,10,11,12,13,14,15,
        16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,
        32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,
        48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,
        250, 66, 74, 92,110,118,126,134, 172,180,188,226,244,252,254,248,
        240,222,184,176,138,130,122,114,  96, 78, 70,231,233,235,237,239,
        100, 67, 75, 93,111,119,127,135, 173,181,189,227,245,253,255,249,
        241,223,185,177,139,131,123,115,  97, 79, 71,247,251,141,143,145,

         64, 64, 64, 64, 64, 64, 64, 64, 64, 64,174, 64, 64, 76,124, 64,
         64, 64, 64, 64, 64, 64, 64, 64, 64, 64,175, 64, 64, 77,125, 64,
         64, 64, 64, 64, 64, 64, 64,246, 64, 64, 64, 64, 64, 64, 64, 64,
         64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64,178, 64,179, 64,
        242,116, 64, 64,112, 94, 64, 64, 68,120, 64, 64, 90, 98, 64, 72,
         64, 64,220,128,228, 64,136, 64,186,224,132, 64,170,182, 64, 65,
        243,117, 64, 64,113, 95, 64, 64, 69,121, 64, 64, 91, 99, 64, 73,
         64, 64,221,129,229, 64,137, 64,187,225,133, 64,171,183, 64, 64
};

unsigned char hh_inv_tab[256];

FUNDEF1(int hhSetTabFillInv,
char *, pszCharSet)
{
int i;
        if (!strcmp(pszCharSet,"cp895")) {
          hh_tab = hh_tab_cp895;
        }
        else if (!strcmp(pszCharSet,"iso-8859-2")) {
          hh_tab = hh_tab_iso_8859_2;
        }
        else if (!strcmp(pszCharSet,"windows-1250")) {
          hh_tab = hh_tab_windows_1250;
        }
        else {
          return 1; /* error */
        }
        for (i = 0; i < 256; i++) hh_inv_tab[i] = 'z';
        for (i = 0; i < 256; i++) hh_inv_tab[hh_tab[i]] = i;
        return(0);
} /* of hhSetTabFillInv */

